<story-context id="bmad/bmm/workflows/4-implementation/story-context/template" v="1.0">
  <metadata>
    <epicId>3</epicId>
    <storyId>3.2</storyId>
    <title>Category Pages (3 Categories)</title>
    <status>drafted</status>
    <generatedAt>2025-01-XX</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>docs/stories/3-2-category-pages-3-categories.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>user</asA>
    <iWant>to see skills organized by three main categories</iWant>
    <soThat>I can browse skills by theme</soThat>
    <tasks>
      <task id="1" ac="1">Create dynamic category page route</task>
      <task id="2" ac="1">Create SkillCard component</task>
      <task id="3" ac="1">Display category information</task>
      <task id="4" ac="1">Display skills list</task>
      <task id="5" ac="1">Add visual category diagram</task>
      <task id="6" ac="1,3">Add navigation and breadcrumbs</task>
      <task id="7" ac="2">Ensure responsive design</task>
      <task id="8" ac="1,3">Add i18n translations</task>
      <task id="9" ac="1,2,3">Test and verify functionality</task>
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="1">
      <given>I navigate to a category page</given>
      <when>I view the category page</when>
      <then>I see: Category name and description (bilingual), List of skills in that category (Health: 6, Identity: 6, Career: 3), Each skill shows number, name, brief description, Modern skill cards using SkillCard component, Clickable links to individual skill pages, Visual diagram showing category structure, Modern, compact design</then>
    </criterion>
    <criterion id="2">
      <given>I am on mobile</given>
      <when>I view category pages</when>
      <then>layout is responsive and readable, modern mobile design patterns are used, and skill cards are touch-friendly</then>
    </criterion>
    <criterion id="3">
      <given>I view a category page</given>
      <when>I interact with the page</when>
      <then>I can click on skill cards to navigate to skill pages, navigation works correctly in both languages, and breadcrumb navigation shows my location</then>
    </criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc>
        <path>docs/epics.md</path>
        <title>Epic Breakdown</title>
        <section>Story 3.2: Category Pages (3 Categories)</section>
        <snippet>Story 3.2 focuses on creating dynamic category pages that display skills organized by three main categories (Health, Identity, Career). Each page shows category information, list of skills with SkillCard components, visual diagram, and navigation.</snippet>
      </doc>
      <doc>
        <path>docs/stories/3-1-landing-page-bilingual.md</path>
        <title>Story 3.1 - Landing Page</title>
        <section>Dev Agent Record - Completion Notes</section>
        <snippet>Created category utilities in app/utils/categories.ts. Landing page uses category data and navigation patterns. Can reuse navigation patterns and design for category pages.</snippet>
      </doc>
      <doc>
        <path>docs/stories/2-2-organize-skills-content-3-categories.md</path>
        <title>Story 2.2 - Skills Organization</title>
        <section>Dev Agent Record - Completion Notes</section>
        <snippet>Created skill utilities in app/utils/skills.ts with getSkillsByCategory() function. Categories properly organized: Health (1-6), Identity (7-12), Career (13-15). Data ready for component consumption.</snippet>
      </doc>
    </docs>
    <code>
      <artifact>
        <path>app/utils/categories.ts</path>
        <kind>utility</kind>
        <symbol>getCategoryById, getAllCategories</symbol>
        <lines>1-41</lines>
        <reason>Category utilities for getting category data by ID. Can be used to get category name, description, and skill IDs.</reason>
      </artifact>
      <artifact>
        <path>app/utils/skills.ts</path>
        <kind>utility</kind>
        <symbol>getSkillsByCategory, getSkillById</symbol>
        <lines>29-41</lines>
        <reason>Skill utilities for getting skills by category. Essential for displaying skills on category pages.</reason>
      </artifact>
      <artifact>
        <path>app/data/fa/categories.ts</path>
        <kind>data-file</kind>
        <symbol>categories</symbol>
        <lines>1-61</lines>
        <reason>Category data with bilingual names, descriptions, and skill IDs. Health (1-6), Identity (7-12), Career (13-15).</reason>
      </artifact>
      <artifact>
        <path>app/data/fa/skills.ts</path>
        <kind>data-file</kind>
        <symbol>skills</symbol>
        <lines>1-443</lines>
        <reason>Skill data with complete structure including id, name, category, whyItMatters, howTo, books, relatedSkills. Ready for SkillCard component.</reason>
      </artifact>
      <artifact>
        <path>app/pages/index.vue</path>
        <kind>page</kind>
        <symbol>LandingPage</symbol>
        <lines>1-110</lines>
        <reason>Landing page implementation shows navigation patterns, i18n usage, and design patterns that can be reused for category pages.</reason>
      </artifact>
      <artifact>
        <path>app/components/common/TopNav.vue</path>
        <kind>component</kind>
        <symbol>TopNav</symbol>
        <lines>1-94</lines>
        <reason>TopNav component shows navigation patterns. Can be used as reference for breadcrumb navigation.</reason>
      </artifact>
    </code>
    <dependencies>
      <ecosystem name="node">
        <package name="nuxt" version="^4.2.1" />
        <package name="@nuxt/ui" version="^4.0.1" />
        <package name="@nuxtjs/i18n" version="10.1.1" />
        <package name="vue" version="^3.5.24" />
      </ecosystem>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint>
      <type>dynamic-routing</type>
      <description>Must use Nuxt dynamic routing with [slug].vue for category pages. Handle three slugs: health, identity, career. Validate slug and return 404 for invalid routes.</description>
    </constraint>
    <constraint>
      <type>component-reusability</type>
      <description>SkillCard component must be reusable for Story 3.3 (skill pages). Design should be flexible and support different display modes.</description>
    </constraint>
    <constraint>
      <type>i18n-integration</type>
      <description>Must use useI18n() composable and $t() for all text content. All content must be translatable. Use localePath() for navigation links.</description>
    </constraint>
    <constraint>
      <type>rtl-ltr-support</type>
      <description>Must support RTL layout for Persian (fa) and LTR layout for English (en). Ensure text alignment and navigation elements align properly.</description>
    </constraint>
    <constraint>
      <type>data-access</type>
      <description>Use getCategoryById() from app/utils/categories.ts for category data. Use getSkillsByCategory() from app/utils/skills.ts for skills. Data is already organized and ready.</description>
    </constraint>
    <constraint>
      <type>design-consistency</type>
      <description>Must follow portfolio's modern design patterns: glassmorphism effects, subtle shadows, clean layouts, modern typography. Support dark mode. Ensure mobile-responsive design.</description>
    </constraint>
  </constraints>

  <interfaces>
    <interface>
      <name>useRoute</name>
      <kind>Composable</kind>
      <signature>const route = useRoute()</signature>
      <path>nuxt</path>
    </interface>
    <interface>
      <name>useI18n</name>
      <kind>Composable</kind>
      <signature>const { locale, t } = useI18n()</signature>
      <path>@nuxtjs/i18n</path>
    </interface>
    <interface>
      <name>useLocalePath</name>
      <kind>Composable</kind>
      <signature>const localePath = useLocalePath()</signature>
      <path>@nuxtjs/i18n</path>
    </interface>
    <interface>
      <name>SkillCard Props</name>
      <kind>Component Props (to be created)</kind>
      <signature>interface SkillCardProps { skill: Skill; showDescription?: boolean; variant?: 'default' | 'compact' }</signature>
      <path>app/components/skills/SkillCard.vue</path>
    </interface>
  </interfaces>

  <tests>
    <standards>
      Functional tests should verify all three category pages load correctly, skills are displayed correctly for each category, skill card navigation works, breadcrumb navigation works, and 404 handling for invalid category slugs. Visual tests should verify modern design, mobile responsiveness, skill cards display correctly, and RTL/LTR layout works.
    </standards>
    <locations>
      Tests should be co-located with components or in __tests__ directories (future). For now, manual testing and browser testing are sufficient.
    </locations>
    <ideas>
      <test ac="1">Verify category page displays category name and description</test>
      <test ac="1">Verify correct number of skills displayed (Health: 6, Identity: 6, Career: 3)</test>
      <test ac="1">Verify each skill shows number, name, and brief description</test>
      <test ac="1">Verify skill cards are clickable and navigate to skill pages</test>
      <test ac="1">Verify visual diagram displays correctly</test>
      <test ac="2">Test mobile responsiveness</test>
      <test ac="2">Test touch-friendly interactions</test>
      <test ac="3">Test skill card navigation</test>
      <test ac="3">Test breadcrumb navigation</test>
      <test ac="3">Test navigation works in both languages</test>
      <test ac="1">Test 404 handling for invalid category slugs</test>
    </ideas>
  </tests>
</story-context>
