<story-context id="bmad/bmm/workflows/4-implementation/story-context/template" v="1.0">
  <metadata>
    <epicId>5</epicId>
    <storyId>5.1</storyId>
    <title>Category Structure Diagram (3 Categories) - Modern Design</title>
    <status>drafted</status>
    <generatedAt>2025-01-XX</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>docs/stories/5-1-category-structure-diagram-3-categories-modern-design.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>user</asA>
    <iWant>to see a modern visual diagram of the three-category structure</iWant>
    <soThat>I can understand how skills are organized</soThat>
    <tasks>
      <task id="1" ac="1">Create CategoryDiagram component</task>
      <task id="2" ac="1">Display categories and skills</task>
      <task id="3" ac="1,2">Make skills clickable</task>
      <task id="4" ac="3">Ensure responsive design</task>
      <task id="5" ac="1">Integrate diagram into pages</task>
      <task id="6" ac="1,2">Polish and animations</task>
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="1">
      <given>I view the landing page or category pages</given>
      <when>I see the diagram</when>
      <then>I see: Three main categories (Health, Identity, Career) clearly shown, 15 skills organized under their categories, Visual distinction between categories with modern design, Clickable skills (links to skill pages), Modern, compact design following UI/UX best practices, Component-based diagram (CategoryDiagram component), Responsive design (mobile, tablet, desktop), Bilingual support (Persian/English), RTL/LTR layout support</then>
    </criterion>
    <criterion id="2">
      <given>I view the diagram</given>
      <when>I interact with it</when>
      <then>I see: Smooth hover animations, Clear visual feedback on skill hover, Clickable skills navigate to skill pages, Touch-friendly interactions on mobile</then>
    </criterion>
    <criterion id="3">
      <given>I view the diagram on different devices</given>
      <when>I resize the browser or view on mobile</when>
      <then>the diagram adapts responsively, remains readable and interactive, and maintains visual hierarchy</then>
    </criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc>
        <path>docs/epics.md</path>
        <title>Epic Breakdown</title>
        <section>Story 5.1: Category Structure Diagram (3 Categories) - Modern Design</section>
        <snippet>Story 5.1 focuses on creating a modern visual diagram component that displays the three-category structure (Health, Identity, Career) with all 15 skills organized under their categories. The diagram should be reusable, clickable, and responsive.</snippet>
      </doc>
      <doc>
        <path>docs/stories/3-1-landing-page-bilingual.md</path>
        <title>Story 3.1 - Landing Page</title>
        <section>Dev Agent Record - Completion Notes</section>
        <snippet>Landing page shows category cards. Can integrate CategoryDiagram component to replace or enhance the current category display. Landing page uses getAllCategories() and displays categories with UCard components.</snippet>
      </doc>
      <doc>
        <path>docs/stories/3-2-category-pages-3-categories.md</path>
        <title>Story 3.2 - Category Pages</title>
        <section>Dev Agent Record - Completion Notes</section>
        <snippet>Category pages have a simple visual diagram showing category circle with skill indicators. Can reference this pattern but create a more comprehensive diagram component. Uses getSkillIndicatorPosition() function for positioning skills around category circle.</snippet>
      </doc>
      <doc>
        <path>docs/ARCHITECTURE-NOTES.md</path>
        <title>Architecture Notes</title>
        <section>Component Structure</section>
        <snippet>Diagrams should be in app/components/diagrams/ directory. CategoryDiagram.vue component should be reusable and expandable for future features.</snippet>
      </doc>
    </docs>
    <code>
      <artifact>
        <path>app/utils/categories.ts</path>
        <kind>utility</kind>
        <symbol>getAllCategories, getCategoryById</symbol>
        <lines>1-41</lines>
        <reason>Category utilities for getting all categories and category by ID. Essential for displaying categories in the diagram.</reason>
      </artifact>
      <artifact>
        <path>app/utils/skills.ts</path>
        <kind>utility</kind>
        <symbol>getSkillsByCategory, getAllSkills, getSkillById</symbol>
        <lines>1-100</lines>
        <reason>Skill utilities for getting skills by category and all skills. Essential for displaying skills organized by category in the diagram.</reason>
      </artifact>
      <artifact>
        <path>app/data/fa/categories.ts</path>
        <kind>data-file</kind>
        <symbol>categories</symbol>
        <lines>1-61</lines>
        <reason>Category data with bilingual names, descriptions, and skill IDs. Health (1-6), Identity (7-12), Career (13-15).</reason>
      </artifact>
      <artifact>
        <path>app/data/fa/skills.ts</path>
        <kind>data-file</kind>
        <symbol>skills</symbol>
        <lines>1-443</lines>
        <reason>Skill data with complete structure including id, name, category. Ready for diagram display.</reason>
      </artifact>
      <artifact>
        <path>app/pages/index.vue</path>
        <kind>page</kind>
        <symbol>LandingPage</symbol>
        <lines>1-112</lines>
        <reason>Landing page where CategoryDiagram component should be integrated. Currently shows category cards that can be enhanced with diagram.</reason>
      </artifact>
      <artifact>
        <path>app/pages/categories/[slug].vue</path>
        <kind>page</kind>
        <symbol>CategoryPage</symbol>
        <lines>33-52</lines>
        <reason>Category page has a simple visual diagram showing category circle with skill indicators. Can reference this pattern but create more comprehensive component.</reason>
      </artifact>
      <artifact>
        <path>app/components/skills/SkillCard.vue</path>
        <kind>component</kind>
        <symbol>SkillCard</symbol>
        <lines>1-78</lines>
        <reason>SkillCard component shows how to display skills. Can be used within diagram or referenced for styling patterns. Has clickable navigation to skill pages.</reason>
      </artifact>
    </code>
    <dependencies>
      <ecosystem name="node">
        <package name="nuxt" version="^4.2.1" />
        <package name="@nuxt/ui" version="^4.0.1" />
        <package name="@nuxtjs/i18n" version="10.1.1" />
        <package name="vue" version="^3.5.24" />
        <package name="tailwindcss" version="^4.1.17" />
      </ecosystem>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint>
      <type>component-reusability</type>
      <description>CategoryDiagram component must be reusable across multiple pages (landing page, category pages). Design should be flexible and support different display modes (compact, expanded).</description>
    </constraint>
    <constraint>
      <type>modern-design</type>
      <description>Must follow modern design trends (not traditional). Use glassmorphism effects, subtle shadows, clean layouts, modern typography. Support dark mode. Avoid traditional/old-fashioned visual styles.</description>
    </constraint>
    <constraint>
      <type>visualization-technique</type>
      <description>Use SVG or CSS for visualization. SVG preferred for crisp rendering at all sizes. CSS animations acceptable for transitions. Ensure animations are subtle and enhance UX.</description>
    </constraint>
    <constraint>
      <type>i18n-integration</type>
      <description>Must use useI18n() composable and $t() for all text content. All category names and skill names must be translatable. Use localePath() for navigation links.</description>
    </constraint>
    <constraint>
      <type>rtl-ltr-support</type>
      <description>Must support RTL layout for Persian (fa) and LTR layout for English (en). Ensure text alignment and visual elements align properly in both directions.</description>
    </constraint>
    <constraint>
      <type>data-access</type>
      <description>Use getAllCategories() from app/utils/categories.ts for category data. Use getSkillsByCategory() from app/utils/skills.ts for skills. Data is already organized and ready.</description>
    </constraint>
    <constraint>
      <type>responsive-design</type>
      <description>Must be fully responsive: mobile (touch-friendly), tablet, desktop. Ensure diagram adapts to screen size while maintaining readability and interactivity.</description>
    </constraint>
    <constraint>
      <type>accessibility</type>
      <description>Ensure proper ARIA labels, keyboard navigation support, and screen reader compatibility. Clickable elements must have proper focus states.</description>
    </constraint>
  </constraints>

  <interfaces>
    <interface>
      <name>useI18n</name>
      <kind>Composable</kind>
      <signature>const { locale, t } = useI18n()</signature>
      <path>@nuxtjs/i18n</path>
    </interface>
    <interface>
      <name>useLocalePath</name>
      <kind>Composable</kind>
      <signature>const localePath = useLocalePath()</signature>
      <path>@nuxtjs/i18n</path>
    </interface>
    <interface>
      <name>CategoryDiagram Props</name>
      <kind>Component Props (to be created)</kind>
      <signature>interface CategoryDiagramProps { variant?: 'default' | 'compact'; showAllSkills?: boolean; clickable?: boolean }</signature>
      <path>app/components/diagrams/CategoryDiagram.vue</path>
    </interface>
    <interface>
      <name>getAllCategories</name>
      <kind>Function</kind>
      <signature>getAllCategories(locale: 'fa' | 'en'): Category[]</signature>
      <path>app/utils/categories.ts</path>
    </interface>
    <interface>
      <name>getSkillsByCategory</name>
      <kind>Function</kind>
      <signature>getSkillsByCategory(category: 'health' | 'identity' | 'career', locale: 'fa' | 'en'): Skill[]</signature>
      <path>app/utils/skills.ts</path>
    </interface>
  </interfaces>

  <tests>
    <standards>
      Functional tests should verify diagram displays all three categories correctly, skills are organized under correct categories, skills are clickable and navigate correctly, diagram is responsive on different screen sizes, and bilingual support works. Visual tests should verify modern design, animations work smoothly, hover states provide clear feedback, and RTL/LTR layout works correctly.
    </standards>
    <locations>
      Tests should be co-located with components or in __tests__ directories (future). For now, manual testing and browser testing are sufficient.
    </locations>
    <ideas>
      <test ac="1">Verify diagram displays three categories (Health, Identity, Career)</test>
      <test ac="1">Verify 15 skills are organized correctly (Health: 1-6, Identity: 7-12, Career: 13-15)</test>
      <test ac="1">Verify visual distinction between categories</test>
      <test ac="1">Verify skills are clickable and navigate to skill pages</test>
      <test ac="1">Verify modern, compact design</test>
      <test ac="1">Verify component is reusable</test>
      <test ac="2">Test hover animations</test>
      <test ac="2">Test visual feedback on skill hover</test>
      <test ac="2">Test clickable skills navigation</test>
      <test ac="2">Test touch-friendly interactions on mobile</test>
      <test ac="3">Test responsive design on mobile</test>
      <test ac="3">Test responsive design on tablet</test>
      <test ac="3">Test responsive design on desktop</test>
      <test ac="1">Test bilingual support (Persian/English)</test>
      <test ac="1">Test RTL/LTR layout support</test>
    </ideas>
  </tests>
</story-context>
